<section class="pt-5">
    <section class="pt-5">
      <div class="container">
        <div class="row g-4 g-sm-5"></div>
        <!-- Main content START -->
        <div class="col-xl-12 mb-4 mb-sm-4">
          <!-- Personal info START -->
          <div class="card card-body shadow p-4">
            <% try {%>
            <!--alert data > 10000 ada-->
            <% if (statistics.length > 9999) { %>
            <tr>
              <td colspan="8"></td>
              <div class="alert alert-warning fw-bold" role="alert">
                Jumlah data yang ditampilkan sebanyak 10.000 line.
              </div>
            </tr>
            <% } %>
            <!-- Title -->
            <h3 class="text-center">Summary</h3>



            <!--alert data tidak ada-->
            <% if (statistics.length===0) { %>
            <table>
              <tr>
                <td colspan="8"></td>
                <div class="alert alert-danger fw-bold" role="alert">
                  No Data Found
                </div>
              </tr>
            </table>
            <% } else{%>
            <table id="dtHorizontalVerticalExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th scope="col">No</th>
                  <th scope="col">Job Name</th>
                  <th scope="col">Server</th>
                  <th scope="col">User ID</th>
                  <th scope="col">Order Date</th>
                  <th scope="col">Start Date</th>
                  <th scope="col">Start Time</th>
                  <th scope="col">End Date</th>
                  <th scope="col">End Time</th>
                  <th scope="col">Duration</th>
                  <th scope="col">Ended Status</th>
                </tr>
              </thead>
              <!--perulangan sebanyak job-->
              <tbody>
                <% statistics.forEach((statistic, i) => { i++%>
                <tr>
                  <th scope="row"><%= i++ %></th>
                  <td><%= statistic.JOB_MEM_NAME  %></td>
                  <td><%= statistic.NODE_ID%></td>
                  <td><%= statistic.OWNER%></td>
                  <td><%= statistic.ORDER_DATE  %></td>
                  <td><%= statistic.START_DATE  %></td>
                  <td><%= statistic.START_TIME  %></td>
                  <td><%= statistic.END_DATE  %></td>
                  <td><%= statistic.END_TIME  %></td>
                  <td><%= statistic.DURATION  %></td>
                  <td><%= statistic.ENDED_STATUS  %></td>
                </tr>
                <% }) %>
              </tbody>

              <% } %>
              <% }catch(err){%>
              <tr>
                <td colspan="8"></td>
                <div class="alert alert-danger fw-bold" role="alert">
                  Syntax Error. Klik Menu Bantuan
                  <svg width="20" height="20" data-bs-toggle="modal" fill="currentColor" class="bi bi-question-octagon" viewBox="0 0 16 16">
                    <path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 
                                                              0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 
                                                              1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z" />
                  </svg>
                </div>
              </tr>

              <% } %>
            </table>
          </div>
        </div>
        <script type="text/javascript" src="/DataTables/datatables.js"></script>
        <script>
          if (<%- validationResult %>) {
            //pass
          } else {
            alert("Syntax Error. Klik Menu Bantuan atau Baca Panduan Penggunaan Autoweb.");
          }

          $(document).ready(function() {
            $('#dtHorizontalVerticalExample').DataTable({
              dom: "<'row'<'col-sm-12 col-md-8'l><'col-sm-12 col-md-1'B><'col-sm-12 col-md-3'f>>" +
                "<'row'<'col-sm-12'tr>>" + "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
              "scrollX": true,
              "scrollY": true,
              "processing": true,
              buttons: [{
                extend: 'csv',
                text: 'Export'
              }]
            });
            $('.dataTables_length').addClass('bs-select');
          });
		    </script>
    </section>

{
        $and: [
          {
            DATA_CENTER: {
              $regex: '.*',
            },
          },
          {
            JOB_MEM_NAME: {
              $eq: '.*',
            },
          },
          {
            NODE_ID: {
              $regex: '.*',
            },
          },
          {
            GROUP_NAME: {
              $regex: '.*',
            },
          },
          {
            OWNER: {
              $regex: '.*',
            },
          },
          {
            SCHED_TABLE: {
              $regex: '.*',
            },
          },
          {
            ENDED_STATUS: {
              $regex: '.*',
            },
          },
          {
            ORDER_DATE: {
              $regex: '.*',
            },
          },
          {
            ORDER_DATE: {
              $regex: '.*',
            },
          },
          {
            START_DATE: {
              $regex: '.*',
            },
          },
          {
            START_DATE: {
              $regex: '.*',
            },
          },
          {
            START_TIME: {
              $regex: '.*',
            },
          },
          {
            START_TIME: {
              $regex: '.*',
            },
          },
          {
            END_DATE: {
              $regex: '.*',
            },
          },
          {
            END_DATE: {
              $regex: '.*',
            },
          },
          {
            END_TIME: {
              $regex: '.*',
            },
          },
          {
            END_TIME: {
              $regex: '.*',
            },
          },
        ],
      }

let stringTest = `{
        $and: [
          {
            DATA_CENTER: {
              $regex: ${ctmPlatform},
            },
          },
          {
            JOB_MEM_NAME: {
              [${ctmLikeInJobName}]: ${ctmJobName},
            }, //incaseCtmJobName
          },
          {
            NODE_ID: {
              [${ctmLikeInServer}]: ${ctmServer},
            },
          },
          {
            GROUP_NAME: {
              [${ctmLikeInGroupName}]: ${ctmGroupName},
            },
          },
          {
            OWNER: {
              [${ctmLikeInUserId}]: ${ctmUserId},
            },
          },
          {
            SCHED_TABLE: {
              [${ctmLikeInTableName}]: ${ctmTableName},
            },
          },
          {
            ENDED_STATUS: {
              [${ctmLikeInEndedStatus}]: ${ctmEndedStatus},
            },
          },
          {
            ORDER_DATE: {
              [${ctmFromOdate}]: ${ctmFromOdateYDM},
            },
          },
          {
            ORDER_DATE: {
              [${ctmUntilOdate}]: ${ctmUntilOdateYDM},
            },
          },
          {
            START_DATE: {
              [${ctmFromStartDate}]: ${ctmFromStartDateYDM},
            },
          },
          {
            START_DATE: {
              [${ctmUntilStartDate}]: ${ctmUntilStartDateYDM},
            },
          },
          {
            START_TIME: {
              [${ctmFromStartTime}]: ${ctmFromStartTimeHMS},
            },
          },
          {
            START_TIME: {
              [${ctmUntilStartTime}]: ${ctmUntilStartTimeHMS},
            },
          },
          {
            END_DATE: {
              [${ctmFromEndDate}]: ${ctmFromEndDateYDM},
            },
          },
          {
            END_DATE: {
              [${ctmUntilEndDate}]: ${ctmUntilEndDateYDM},
            },
          },
          {
            END_TIME: {
              [${ctmFromEndTime}]: ${ctmFromEndTimeHMS},
            },
          },
          {
            END_TIME: {
              [${ctmUntilEndTime}]: ${ctmUntilEndTimeHMS},
            },
          },
        ],
      }`;
			console.log(stringTest);
